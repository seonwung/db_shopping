<% // views/products/home.ejs %>

<section class="hero">
  <h1>선웅이 옷가게</h1>
  <p>골라 골라 </p>
</section>

<section class="section">
  <h2>오늘의 베스트</h2>

  <% if (!bestProducts || bestProducts.length === 0) { %>
    <p>아직 베스트 상품이 없습니다.</p>
  <% } else { %>
    <div class="product-grid">
      <% bestProducts.forEach(p => { %>
        <div class="product-card">
          <a href="/products/<%= p.product_id %>">
            <img
              src="<%= p.thumbnail_url && p.thumbnail_url.trim() !== '' 
                      ? p.thumbnail_url 
                      : 'https://via.placeholder.com/400x400?text=No+Image' %>"
              alt="<%= p.name %>"
            />
            <div class="product-info">
              <div class="brand"><%= p.brand_name || '' %></div>
              <div class="name"><%= p.name %></div>
              <div class="price">
                <%= (p.price || 0).toLocaleString() %>원
              </div>
            </div>
          </a>
        </div>
      <% }) %>
    </div>
  <% } %>
</section>

<section class="section">
  <h2>신상 상품</h2>

  <% if (!newProducts || newProducts.length === 0) { %>
    <p>아직 등록된 신상품이 없습니다.</p>
  <% } else { %>
    <div class="product-grid">
      <% newProducts.forEach(p => { %>
        <div class="product-card">
          <a href="/products/<%= p.product_id %>">
            <img
              src="<%= p.thumbnail_url && p.thumbnail_url.trim() !== '' 
                      ? p.thumbnail_url 
                      : 'https://via.placeholder.com/400x400?text=No+Image' %>"
              alt="<%= p.name %>"
            />
            <div class="product-info">
              <div class="brand"><%= p.brand_name || '' %></div>
              <div class="name"><%= p.name %></div>
              <div class="price">
                <%= (p.price || 0).toLocaleString() %>원
              </div>
            </div>
          </a>
        </div>
      <% }) %>
    </div>
  <% } %>
</section>
